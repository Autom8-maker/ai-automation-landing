// --- Part 1: Fully Interactive AI Stack Builder & Use Cases ---

import { useState } from "react";

const stackOptions = [
  {
    name: "Website Chatbot",
    desc: "24/7 smart website assistant that captures leads and answers FAQs",
    useCase: "Your AI chatbot greets visitors, answers their questions, collects leads, and sends those leads straight to your inbox or CRM ‚Äî all without you lifting a finger."
  },
  {
    name: "Voice AI Agent",
    desc: "AI-powered phone agent to answer or place calls on your behalf",
    useCase: "The voice agent answers calls, qualifies leads, schedules appointments, and sends call summaries to your CRM or calendar."
  },
  {
    name: "Automated CRM Integration",
    desc: "Connect all your leads and interactions to your CRM automatically",
    useCase: "Every lead captured ‚Äî whether from chat, forms, or calls ‚Äî is synced into your CRM with no manual input, ensuring clean records and instant access."
  },
  {
    name: "Meeting Notes Assistant",
    desc: "Auto-summarize meetings and send follow-ups",
    useCase: "After meetings (in person or virtual), this AI component transcribes, summarizes, and emails the action steps to both you and your client."
  },
  {
    name: "AI Email Drafts",
    desc: "Let AI write professional responses or follow-ups for you",
    useCase: "This AI writes full emails based on client messages or CRM notes, so you only have to approve and send."
  },
  {
    name: "Smart Lead Scoring",
    desc: "Prioritize leads based on behavior and conversation quality",
    useCase: "Automatically analyze calls, chats, and form data to score leads from 1-100 based on buying intent."
  }
];

export default function VoiceAgentAndStackBuilder() {
  const [selectedStack, setSelectedStack] = useState([]);

  const toggleStackItem = (item) => {
    if (selectedStack.includes(item.name)) {
      setSelectedStack(selectedStack.filter((i) => i !== item.name));
    } else {
      setSelectedStack([...selectedStack, item.name]);
    }
  };

  const sendProposal = () => {
    const subject = encodeURIComponent("Your Custom AI Stack Proposal");
    const body = encodeURIComponent(
      `Hi Lincoln,%0D%0A%0D%0AHere is the selected AI stack proposal:%0D%0A%0D%0A` +
        selectedStack.map((item) => `- ${item}`).join("%0D%0A") +
        `%0D%0A%0D%0ASent from your AI Stack Builder.`
    );
    window.location.href = `mailto:lincolnallen19@gmail.com?subject=${subject}&body=${body}`;
  };

  return (
    <div className="min-h-screen bg-black text-white font-sans p-8">

      {/* STACK BUILDER UI */}
      <section className="mb-16">
        <h1 className="text-4xl font-bold mb-4">üß† Build Your Custom AI Stack</h1>
        <p className="mb-6 text-gray-300">Select the components you'd like to include in your business AI system. Click to view the use case for each.</p>

        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          {stackOptions.map((item, index) => (
            <div
              key={index}
              className={`bg-gray-800 rounded-xl p-4 shadow hover:shadow-lg transition cursor-pointer group border ${selectedStack.includes(item.name) ? "border-lime-400" : "border-gray-700"}`}
              onClick={() => toggleStackItem(item)}
            >
              <h3 className="text-xl font-semibold mb-1 group-hover:text-lime-400">{item.name}</h3>
              <p className="text-gray-400 text-sm mb-2">{item.desc}</p>
              <p className="text-xs text-gray-500 italic">{item.useCase}</p>
              <div className="mt-3">
                <span className={`inline-block px-3 py-1 text-xs border rounded-full ${selectedStack.includes(item.name) ? 'border-lime-400 text-lime-300' : 'border-gray-600 text-gray-400'}`}>
                  {selectedStack.includes(item.name) ? 'Added to Stack' : 'Click to Add'}
                </span>
              </div>
            </div>
          ))}
        </div>
      </section>

      {/* STACK OVERVIEW */}
      <section className="bg-gray-900 rounded-2xl shadow-xl p-8">
        <h2 className="text-3xl font-bold mb-4">üß± Your Current Stack</h2>
        {selectedStack.length === 0 ? (
          <p className="text-gray-400">No components selected yet. Start building above.</p>
        ) : (
          <ul className="list-disc list-inside text-gray-300 space-y-1">
            {selectedStack.map((item, idx) => (
              <li key={idx}>{item}</li>
            ))}
          </ul>
        )}
        <div className="mt-6 flex gap-4 flex-wrap">
          <button className="bg-lime-400 text-black font-semibold px-6 py-2 rounded-full hover:bg-lime-300">
            View Full Stack Overview
          </button>
          {selectedStack.length > 0 && (
            <button
              onClick={sendProposal}
              className="bg-white text-black font-semibold px-6 py-2 rounded-full border border-lime-400 hover:bg-gray-200"
            >
              ‚úâÔ∏è Generate & Email Proposal
            </button>
          )}
        </div>
      </section>

    </div>
  );
}
